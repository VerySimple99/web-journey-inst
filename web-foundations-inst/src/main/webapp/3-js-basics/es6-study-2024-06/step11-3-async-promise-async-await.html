<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
      <!--
      ìë°”ìŠ¤í¬ë¦½íŠ¸ ì„¸ê°€ì§€ ë¹„ë™ê¸° ë°©ì‹
      1. callback     ì´ì „ë¶€í„° ì‚¬ìš©          í•¨ìˆ˜ ì•ˆì— ë˜ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë„˜ê²¨ì„œ ì‹¤í–‰ìˆœì„œë¥¼ ì œì–´ 
      2. promise      ECMA 2015 ë¶€í„° ë„ì…    Promise ê°ì²´ì™€ ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ì‹¤í–‰ ìˆœì„œë¥¼ ì œì–´
      3. async,await  ECMA 2017 ë¶€í„° ë„ì…    async í•¨ìˆ˜ì™€ await ì˜ˆì•½ì–´ë¥¼ ì‚¬ìš©í•´ì„œ ì‹¤í–‰ìˆœì„œë¥¼ ì œì–´
      ë°©ì‹	íŠ¹ì§•	ë‹¨ì 
      Callback	ê°„ë‹¨í•œ ì‘ì—…ì—ëŠ” ì í•©	ì½œë°± ì§€ì˜¥ ë°œìƒ ê°€ëŠ¥
      Promise	then() ì²´ì´ë‹ìœ¼ë¡œ ê°€ë…ì„± ê°œì„ 	ì½”ë“œê°€ ì—¬ì „íˆ ê¸¸ì–´ì§ˆ ìˆ˜ ìˆìŒ
      Async/Await	ë™ê¸° ì½”ë“œì²˜ëŸ¼ ì½íˆê³  ê°€ë…ì„± ìµœê³ 	awaitì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ë™ì‘í•˜ì§€ ì•ŠìŒ
  -->
    <script>
      //async/awaitë¥¼ ì‚¬ìš©
      async function fetchData() {
        try {
          console.log("1. ì‹œì‘");
          /*
      ğŸ¯ fetch()ì˜ ë°˜í™˜ íƒ€ì…ê³¼ ë³€ìˆ˜ ì„ ì–¸ ë°©ì‹
          await fetch(url)ì„ ì‚¬ìš©í•˜ë©´ Promiseê°€ í•´ì œ(resolved)ëœ ê°’ë§Œ ë³€ìˆ˜ì— ì €ì¥ë©ë‹ˆë‹¤.
          â¡ï¸ awaitë¥¼ ì‚¬ìš©í•˜ë©´ fetch()ê°€ ë°˜í™˜í•œ Promise<Response>ë¥¼ ê¸°ë‹¤ë¦° í›„, response ë³€ìˆ˜ì— í•´ì œëœ Response ê°ì²´ê°€ ì €ì¥ë©ë‹ˆë‹¤.
          â¡ï¸ ì¦‰, Promise<Response>ê°€ ì•„ë‹ˆë¼ **ê·¸ ë‚´ë¶€ ê°’(Response ê°ì²´)**ê°€ ì €ì¥ë©ë‹ˆë‹¤.
      */
          const response = await fetch(
            "https://jsonplaceholder.typicode.com/todos/1"
          );
          console.log("2. ğŸ“¦ ì‘ë‹µì„ ë°›ì•˜ìŠµë‹ˆë‹¤!", response);
          const data = await response.json();
          console.log("3. ğŸ“– ë°ì´í„°ë¥¼ ë³€í™˜í–ˆìŠµë‹ˆë‹¤!", data);
        } catch (error) {
          console.error("2. âŒ ìš”ì²­ ì‹¤íŒ¨!", error);
        }       
      }
      fetchData();
      console.log("4. ë");
    </script>
  </body>
</html>
