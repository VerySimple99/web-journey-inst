<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8"> <!-- 한글 인코딩 설정 (글자가 깨지지 않도록) -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- 반응형 웹 설정 -->
    <title>Fetch 연습</title> <!-- 페이지 제목 -->
</head>
<body>
    <h1>책 목록</h1> <!-- 페이지 제목 -->
    <ul id="book-list"></ul> <!-- 책 목록을 표시할 <ul> 태그 -->

    <script>
        // 
        /*
        fetch 함수는 네트워크 요청을 보내고, 그 결과를 Promise로 반환합니다. 이 Promise는 네트워크 요청이 완료되면 응답(Response 객체)으로 이행(Fulfilled)되거나, 네트워크 오류가 발생하면 거부(Rejected)됩니다.
        fetch() 함수를 사용하여 'books.json' 파일의 데이터를 가져옴
        [
        { "title": "해리포터", "author": "J.K. 롤링" },
        { "title": "데미안", "author": "헤르만 헤세" }
        ]
        */
        fetch("books.json")
            .then(response => response.json()) // 응답 데이터를 JSON 형식으로 변환
            .then(data => {
                const bookList = document.getElementById("book-list"); // 책 목록을 표시할 <ul> 요소 가져오기

                // 가져온 JSON 데이터(배열)를 순회하며 화면에 추가
                data.forEach(book => {
                    const li = document.createElement("li"); // <li> 요소 생성
                    li.textContent = `${book.title} - ${book.author}`; // 책 제목과 저자 정보를 문자열로 설정
                    bookList.appendChild(li); // <ul> 요소 안에 <li> 추가
                });
            })
            .catch(error => console.error("데이터 불러오기 실패!", error)); 
            // fetch 과정에서 오류가 발생하면 콘솔에 에러 메시지 출력
    </script>
</body>
</html>

