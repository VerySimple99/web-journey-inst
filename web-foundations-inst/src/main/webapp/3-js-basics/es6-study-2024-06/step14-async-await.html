<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*
      비동기 처리는 시간이 걸리는 작업을 기다리는 동안,
      다른 일을 하면서 효율적으로 처리할 수 있도록 도와주는 기술이에요!
      ## **Promise: 비동기 작업을 위한 약속**
      Promise는 비동기 작업(예: 네트워크 요청, 타이머, 파일 읽기 등)이 완료될 때까지 기다리는 객체
      **Promise(약속)** 는 "미래에 결과를 받을게!" 라는 개념이에요.

      async/await: 더 쉬운 비동기 코드 작성법
      async/await 는 Promise 를 더 쉽게 사용할 수 있도록 도와주는 문법이에요.

      async 키워드를 함수 앞에 붙이면 자동으로 Promise를 반환하는 함수가 됨.
      await 키워드는 해당 비동기 작업이 끝날 때까지 기다림.

      Promise는 비동기 작업(예: 네트워크 요청, 타이머, 파일 읽기 등)이 완료될 때까지 기다리는 객체
      resolve는 Promise가 성공적으로 끝났을 때 호출하는 함수
      resolve()가 실행되면 Promise가 완료(fulfilled) 상태가 된다.
      await는 이 Promise가 완료될 때까지 기다린다.
      resolve()를 호출하지 않으면 Promise는 끝나지 않고 계속 대기 상태(Pending)로 남아 있습니다.
      resolve 함수는 setTimeout 내부에서 호출됩니다.
      즉, setTimeout이 3초 후에 실행되면서 resolve()를 호출(호출되기만 하면 됨)하여 Promise를 완료(fulfilled) 상태로 만듭니다.
              🚀 정리!
        개념	            설명	                                    코드 스타일
        Promise	        비동기 작업이 끝나면 결과를 반환하는 객체	  .then().catch()
        async/await	    Promise를 더 직관적으로 사용 가능	          await 키워드로 비동기 처리
        ✅ Promise 는 .then() 체이닝을 사용하지만, 코드가 길어질 수 있음
        ✅ async/await 은 동기 코드처럼 읽혀서 가독성이 좋음!
        ✅ React에서는 API 요청, state 업데이트, useEffect에서 비동기 처리할 때 필수!
      */
         // 랜덤으로 성공/실패를 반환하는 함수 (성공 확률을 매개변수로 받도록 수정)
         // 랜덤으로 성공/실패를 반환하는 함수
      function cooking() {
        return Math.random() > 0.3; // 70% 성공률
      }

      // 짜장면 만들기 프로미스
      function makeGiftJjajangmyeon() {
        return new Promise((resolve, reject) => {
          console.log("🧑🍳: 여친을 위해 짜장면 만들기 시작! 후다닥~");
          console.log("🔍: 요리 성공 여부 확인 중..."); // 디버깅용 로그 추가

          setTimeout(() => {
            if (cooking()) {
              resolve("🍜: 짜잔 짜장면 완성! 집으로 초대할까요?");
            } else {
              reject("🔥: 앗!  짜잖아~ 왕짜증!");
            }
          }, 1500); // 1.5초 후 결과
        });
      }

      // async/await을 사용한 실행 함수
      async function cookJjajangmyeon() {
        try {
          const successMessage = await makeGiftJjajangmyeon();
          console.log(`✅ 성공: ${successMessage}`);
        } catch (errorMessage) {
          console.log(`❌ 실패: ${errorMessage}`);
        } finally {
          console.log("항상 실행 ㅎ 고량주 준비");
        }
      }

      cookJjajangmyeon();
      console.log("별도 작업 : 커피를 내린다");
    </script>
  </body>
</html>